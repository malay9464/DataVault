<!DOCTYPE html>
<html>
<head>
    <title>Related Records - Data Vault</title>
    <link rel="stylesheet" href="/static/css/preview.css">
    <link rel="stylesheet" href="/static/css/related.css">
</head>
<body>

<div class="container">
    <div class="card">
        
        <!-- Header -->
        <div class="header">
            <h2>ğŸ”— Related Records</h2>
            <button class="btn-back" onclick="goBack()">â† Back to Preview</button>
        </div>

        <!-- Statistics Bar -->
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-label">Duplicate Emails</span>
                <span class="stat-value" id="statDuplicateEmails">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Email Records</span>
                <span class="stat-value" id="statEmailRecords">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Duplicate Phones</span>
                <span class="stat-value" id="statDuplicatePhones">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Phone Records</span>
                <span class="stat-value" id="statPhoneRecords">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Total Groups</span>
                <span class="stat-value" id="statTotalGroups">-</span>
            </div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle">
            <!-- <button id="btnGroupedView" class="active" onclick="switchView('grouped')">
                ğŸ“¦ Grouped View
            </button> -->
        </div>

        <!-- Filter Panel -->
        <div class="filter-panel">
            <button id="btnFilterAll" class="active" onclick="filterByType('all')">
                ğŸ“Š All Records
            </button>
            <button id="btnFilterEmail" onclick="filterByType('email')">
                ğŸ“§ Email Only
            </button>
            <button id="btnFilterPhone" onclick="filterByType('phone')">
                ğŸ“± Phone Only
            </button>
            <button id="btnFilterBoth" onclick="filterByType('both')">
                ğŸ”— Both
            </button>
        </div>

        <!-- Search Panel -->
        <div class="search-panel">
            <input 
                type="text" 
                id="searchValue" 
                placeholder="Search by email or phone number..."
                onkeypress="if(event.key==='Enter') searchRelated()"
            >
            <button class="btn-primary" onclick="searchRelated()">ğŸ” Search</button>
            <button class="btn-secondary" onclick="resetSearch()">Reset</button>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer">
            <div style="text-align: center; padding: 40px; color: #999;">
                Loading...
            </div>
        </div>

        <!-- Pagination -->
        <div id="relatedPagination" class="pagination"></div>

    </div>
</div>

<script src="/static/js/related.js"></script>
</body>
</html>