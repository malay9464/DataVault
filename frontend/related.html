<!DOCTYPE html>
<html>
<head>
    <title>Related Records - Data Vault</title>
    <link rel="stylesheet" href="/static/css/preview.css">
    <link rel="stylesheet" href="/static/css/related.css">
</head>
<body>

<div class="container">
    <div class="card">
        
        <!-- Header -->
        <div class="header-row">
            <h2 class="page-title">ğŸ”— Related Records</h2>
            <button class="btn-back" onclick="goBack()">â† Back to Preview</button>
        </div>


        <!-- Statistics Bar -->
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-label">Duplicate Emails</span>
                <span class="stat-value" id="statDuplicateEmails">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Email Records</span>
                <span class="stat-value" id="statEmailRecords">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Duplicate Phones</span>
                <span class="stat-value" id="statDuplicatePhones">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Phone Records</span>
                <span class="stat-value" id="statPhoneRecords">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Both (Email + Phone)</span>
                <span class="stat-value" id="statBoth">-</span>
            </div>
                <div class="stat-item">
                <span class="stat-label">Both Records</span>
                <span class="stat-value" id="statBothRecords">-</span>
            </div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle">
            <!-- <button id="btnGroupedView" class="active" onclick="switchView('grouped')">
                ğŸ“¦ Grouped View
            </button> -->
        </div>

        <!-- Filter Panel -->
        <div class="control-row">
            <div class="filter-panel">
                <button id="btnFilterAll" class="active" onclick="filterByType('all')">ğŸ“Š All</button>
                <button id="btnFilterEmail" onclick="filterByType('email')">ğŸ“§ Email</button>
                <button id="btnFilterPhone" onclick="filterByType('phone')">ğŸ“± Phone</button>
                <button id="btnFilterBoth" onclick="filterByType('both')">ğŸ”— Both</button>
            </div>

            <div class="search-panel">
                <input
                    type="text"
                    id="searchValue"
                    placeholder="Search by email or phone..."
                    onkeypress="if(event.key==='Enter') searchRelated()"
                >
                <button class="btn-primary" onclick="searchRelated()">ğŸ” Search</button>
                <button class="btn-secondary" onclick="resetSearch()">Reset</button>
            </div>
        </div>


        <hr style="
            border: none;
            border-top: 1px solid #e5e7eb;
            margin: 15px 0;
        ">

        <!-- Results Container -->
        <div id="resultsContainer">
            <div style="text-align: center; padding: 40px; color: #999;">
                Loading...
            </div>
        </div>

        <!-- Pagination -->
        <div id="relatedPagination" class="pagination"></div>

    </div>
</div>

<script src="/static/js/related.js"></script>
</body>
</html>